(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71249,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(60289),i=e.i(75254);let n=(0,i.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),l=(0,i.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var s=e.i(47163),o=e.i(66027),c=e.i(20755);let d=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_valorizacion").select("*").single();if(t)throw t;return e},u=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_otif").select("*").order("mes",{ascending:!1}).limit(6);if(t)throw t;return e},m=async e=>{let{data:t,error:r}=await c.supabase.rpc("get_abc_analysis_v2",{p_dias:e});if(r)throw r;return t.slice(0,20)},p=async()=>{let{data:e,error:t}=await c.supabase.rpc("get_abc_inventory_valuation");if(t)throw t;return e.slice(0,20)},f=async()=>{let{data:e,error:t}=await c.supabase.from("vw_dashboard_stock_realtime").select("*").or("estado_abastecimiento.eq.CRITICO,estado_abastecimiento.eq.ALERTA").order("stock_actual",{ascending:!0});if(t)throw t;return e},x=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_conversion").select("*").single();if(t)throw t;return e},h=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_ticket_promedio").select("*").single();if(t)throw t;return e},v=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_top_productos").select("*").limit(10);if(t)throw t;return e},y=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_retazos_valorizados").select("*").single();if(t)throw t;return e},g=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_margen_real").select("*").order("mes",{ascending:!1}).limit(6);if(t)throw t;return e},b=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_ciclo_ventas").select("*").single();if(t)throw t;return e},j=async()=>{let{data:e,error:t}=await c.supabase.from("vw_kpi_stock_zombie").select("*").limit(10);if(t)throw t;return e};var w=e.i(70065),O=e.i(19036),k=e.i(10708),N=e.i(12426),P=e.i(63209);let C=(0,i.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var S=e.i(25949),A=e.i(70778),E=e.i(98596),I=e.i(22273),D=e.i(62327),T=e.i(48973),z=e.i(51883);function M(){return(M=Object.assign.bind()).apply(null,arguments)}var L={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},B=(0,r.forwardRef)(function(e,t){var a,i=(0,z.resolveDefaultProps)(e.categoricalChartProps,L),{chartName:n,defaultTooltipEventType:l,validateTooltipEventTypes:s,tooltipPayloadSearcher:o,categoricalChartProps:c}=e;return r.createElement(A.RechartsStoreProvider,{preloadedState:{options:{chartName:n,defaultTooltipEventType:l,validateTooltipEventTypes:s,tooltipPayloadSearcher:o,eventEmitter:void 0}},reduxStoreName:null!=(a=c.id)?a:n},r.createElement(E.ChartDataContextProvider,{chartData:c.data}),r.createElement(I.ReportMainChartProps,{layout:i.layout,margin:i.margin}),r.createElement(D.ReportChartProps,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),r.createElement(T.CategoricalChart,M({},i,{ref:t})))}),_=["axis","item"],K=(0,r.forwardRef)((e,t)=>r.createElement(B,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_,tooltipPayloadSearcher:S.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),R=r,F=e.i(7670),V=e.i(97865),G=e.i(22787),q=e.i(69212),H=e.i(94395),W=e.i(81977),U=e.i(79812),Y=e.i(73393),X=e.i(40992),Z=e.i(18519);function Q(){return(Q=Object.assign.bind()).apply(null,arguments)}function $(e){return r.createElement(Z.Shape,Q({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,a)=>{if((0,H.isNumber)(e))return e;var i=(0,H.isNumber)(r)||(0,H.isNullish)(r);return i?e(r,a):(i||(0,X.default)(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),t)}},ee=e.i(94585),et=e.i(844),er=["children"],ea=(0,r.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function ei(e){var{children:t}=e,a=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,er);return r.createElement(ea.Provider,{value:a},t)}var en=e.i(27241),el=e.i(61764),es=e.i(52734);function eo(e,t){var r,a,i=(0,en.useAppSelector)(t=>(0,el.selectXAxisSettings)(t,e)),n=(0,en.useAppSelector)(e=>(0,el.selectYAxisSettings)(e,t)),l=null!=(r=null==i?void 0:i.allowDataOverflow)?r:el.implicitXAxis.allowDataOverflow,s=null!=(a=null==n?void 0:n.allowDataOverflow)?a:el.implicitYAxis.allowDataOverflow;return{needClip:l||s,needClipX:l,needClipY:s}}function ec(e){var{xAxisId:t,yAxisId:a,clipPathId:i}=e,n=(0,es.usePlotArea)(),{needClipX:l,needClipY:s,needClip:o}=eo(t,a);if(!o||!n)return null;var{x:c,y:d,width:u,height:m}=n;return r.createElement("clipPath",{id:"clipPath-".concat(i)},r.createElement("rect",{x:l?c:c-u/2,y:s?d:d-m/2,width:l?u:2*u,height:s?m:2*m}))}var ed=e.i(46710),eu=e.i(61849),em=e.i(92860),ep=e.i(41088),ef=e.i(77320),ex=e.i(10439),eh=(e,t,r)=>{var a=null!=r?r:e;if(!(0,H.isNullish)(a))return(0,H.getPercentValue)(a,t,0)},ev=e.i(22075);function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eb=e.i(91526),ej=e.i(29194);function ew(e,t){var r,a;return null!=(r=null==(a=e.graphicalItems.cartesianItems.find(e=>e.id===t))?void 0:a.xAxisId)?r:ej.defaultAxisId}function eO(e,t){var r,a;return null!=(r=null==(a=e.graphicalItems.cartesianItems.find(e=>e.id===t))?void 0:a.yAxisId)?r:ej.defaultAxisId}var ek=(0,eu.createSelector)([el.selectUnfilteredCartesianItems,(e,t)=>t],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),eN=(0,eu.createSelector)([ek],e=>null==e?void 0:e.maxBarSize),eP=(0,eu.createSelector)([ed.selectChartLayout,el.selectUnfilteredCartesianItems,ew,eO,(e,t,r)=>r],(e,t,r,a,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===a).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),eC=(0,eu.createSelector)([eP,ef.selectRootBarSize,(e,t)=>{var r=(0,ed.selectChartLayout)(e),a=ew(e,t),i=eO(e,t);if(null!=a&&null!=i)return"horizontal"===r?(0,el.selectCartesianAxisSize)(e,"xAxis",a):(0,el.selectCartesianAxisSize)(e,"yAxis",i)}],(e,t,r)=>{var a=e.filter(ex.isStacked),i=e.filter(e=>null==e.stackId);return[...Object.entries(a.reduce((e,t)=>{var r=e[t.stackId];return null==r&&(r=[]),r.push(t),e[t.stackId]=r,e},{})).map(e=>{var a,[i,n]=e;return{stackId:i,dataKeys:n.map(e=>e.dataKey),barSize:eh(t,r,null==(a=n[0])?void 0:a.barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:eh(t,r,e.barSize)}))]}),eS=(e,t,r)=>{var a,i,n=(0,ed.selectChartLayout)(e),l=ew(e,t),s=eO(e,t);if(null!=l&&null!=s)return"horizontal"===n?(a=(0,el.selectAxisWithScale)(e,"xAxis",l,r),i=(0,el.selectTicksOfGraphicalItem)(e,"xAxis",l,r)):(a=(0,el.selectAxisWithScale)(e,"yAxis",s,r),i=(0,el.selectTicksOfGraphicalItem)(e,"yAxis",s,r)),(0,U.getBandSizeOfAxis)(a,i)},eA=(0,eu.createSelector)([eC,ef.selectRootMaxBarSize,ef.selectBarGap,ef.selectBarCategoryGap,(e,t,r)=>{var a,i,n,l,s=ek(e,t);if(null==s)return 0;var o=ew(e,t),c=eO(e,t);if(null==o||null==c)return 0;var d=(0,ed.selectChartLayout)(e),u=(0,ef.selectRootMaxBarSize)(e),{maxBarSize:m}=s,p=(0,H.isNullish)(m)?u:m;return"horizontal"===d?(n=(0,el.selectAxisWithScale)(e,"xAxis",o,r),l=(0,el.selectTicksOfGraphicalItem)(e,"xAxis",o,r)):(n=(0,el.selectAxisWithScale)(e,"yAxis",c,r),l=(0,el.selectTicksOfGraphicalItem)(e,"yAxis",c,r)),null!=(a=null!=(i=(0,U.getBandSizeOfAxis)(n,l,!0))?i:p)?a:0},eS,eN],(e,t,r,a,i,n,l)=>{var s=function(e,t,r,a,i){var n,l,s=a.length;if(!(s<1)){var o=(0,H.getPercentValue)(e,r,0,!0),c=[];if((0,ev.isWellBehavedNumber)(null==(n=a[0])?void 0:n.barSize)){var d=!1,u=r/s,m=a.reduce((e,t)=>e+(t.barSize||0),0);(m+=(s-1)*o)>=r&&(m-=(s-1)*o,o=0),m>=r&&u>0&&(d=!0,u*=.9,m=s*u);var p={offset:((r-m)/2|0)-o,size:0};l=a.reduce((e,t)=>{var r,a={stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p.offset+p.size+o,size:d?u:null!=(r=t.barSize)?r:0}},i=[...e,a];return p=a.position,i},c)}else{var f=(0,H.getPercentValue)(t,r,0,!0);r-2*f-(s-1)*o<=0&&(o=0);var x=(r-2*f-(s-1)*o)/s;x>1&&(x>>=0);var h=(0,ev.isWellBehavedNumber)(i)?Math.min(x,i):x;l=a.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(x+o)*r+(x-h)/2,size:h}}],c)}return l}}(r,a,i!==n?i:n,e,(0,H.isNullish)(l)?t:l);return i!==n&&null!=s&&(s=s.map(e=>eg(eg({},e),{},{position:eg(eg({},e.position),{},{offset:e.position.offset-i/2})}))),s}),eE=(0,eu.createSelector)([eA,ek],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),eI=(0,eu.createSelector)([(e,t,r)=>{var a=(0,ed.selectChartLayout)(e),i=ew(e,t),n=eO(e,t);if(null!=i&&null!=n)return"horizontal"===a?(0,el.selectStackGroups)(e,"yAxis",n,r):(0,el.selectStackGroups)(e,"xAxis",i,r)},ek],(e,t)=>{var r=(0,eb.getStackSeriesIdentifier)(t);if(!e||null==r||null==t)return;var{stackId:a}=t;if(null!=a){var i=e[a];if(i){var{stackedData:n}=i;if(n)return n.find(e=>e.key===r)}}}),eD=(0,eu.createSelector)([ep.selectChartOffsetInternal,ep.selectAxisViewBox,(e,t,r)=>{var a=ew(e,t);if(null!=a)return(0,el.selectAxisWithScale)(e,"xAxis",a,r)},(e,t,r)=>{var a=eO(e,t);if(null!=a)return(0,el.selectAxisWithScale)(e,"yAxis",a,r)},(e,t,r)=>{var a=ew(e,t);if(null!=a)return(0,el.selectTicksOfGraphicalItem)(e,"xAxis",a,r)},(e,t,r)=>{var a=eO(e,t);if(null!=a)return(0,el.selectTicksOfGraphicalItem)(e,"yAxis",a,r)},eE,ed.selectChartLayout,em.selectChartDataWithIndexesIfNotInPanoramaPosition3,eS,eI,ek,(e,t,r,a)=>a],(e,t,r,a,i,n,l,s,o,c,d,u,m)=>{var p,{chartData:f,dataStartIndex:x,dataEndIndex:h}=o;if(null!=u&&null!=l&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=r&&null!=a&&null!=i&&null!=n&&null!=c){var{data:v}=u;if(null!=(p=null!=v&&v.length>0?v:null==f?void 0:f.slice(x,h+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:i,bandSize:n,xAxis:l,yAxis:s,xAxisTicks:o,yAxisTicks:c,stackedData:d,displayedData:u,offset:m,cells:p,parentViewBox:f,dataStartIndex:x}=e,h="horizontal"===t?s:l,v=d?h.scale.domain():null,y=(0,U.getBaseValueOfBar)({numericAxis:h}),g=h.scale.map(y);return u.map((e,u)=>{if(d){var h=d[u+x];if(null==h)return null;j=(0,U.truncateByDomain)(h,v)}else Array.isArray(j=(0,U.getValueByDataKey)(e,r))||(j=[y,j]);var b=J(a,0)(j[1],u);if("horizontal"===t){var j,w,O,k,N,P,C,S=s.scale.map(j[0]),A=s.scale.map(j[1]);if(null==S||null==A)return null;w=(0,U.getCateCoordinateOfBar)({axis:l,ticks:o,bandSize:n,offset:i.offset,entry:e,index:u}),O=null!=(C=null!=A?A:S)?C:void 0,k=i.size;var E=S-A;if(N=(0,H.isNan)(E)?0:E,P={x:w,y:m.top,width:k,height:m.height},Math.abs(b)>0&&Math.abs(N)<Math.abs(b)){var I=(0,H.mathSign)(N||b)*(Math.abs(b)-Math.abs(N));O-=I,N+=I}}else{var D=l.scale.map(j[0]),T=l.scale.map(j[1]);if(null==D||null==T)return null;if(w=D,O=(0,U.getCateCoordinateOfBar)({axis:s,ticks:c,bandSize:n,offset:i.offset,entry:e,index:u}),k=T-D,N=i.size,P={x:m.left,y:O,width:m.width,height:N},Math.abs(b)>0&&Math.abs(k)<Math.abs(b)){var z=(0,H.mathSign)(k||b)*(Math.abs(b)-Math.abs(k));k+=z}}return null==w||null==O||null==k||null==N?null:e9(e9({},e),{},{stackedBarStart:g,x:w,y:O,width:k,height:N,value:d?j:j[1],payload:e,background:P,tooltipPosition:{x:w+k/2,y:O+N/2},parentViewBox:f},p&&p[u]&&p[u].props)}).filter(Boolean)}({layout:s,barSettings:u,pos:l,parentViewBox:t,bandSize:c,xAxis:r,yAxis:a,xAxisTicks:i,yAxisTicks:n,stackedData:d,displayedData:p,offset:e,cells:m,dataStartIndex:x})}}),eT=e.i(75337),ez=e.i(76735),eM=e.i(95146),eL=e.i(40657),eB=e.i(15549),e_=e.i(91187),eK=e.i(57999),eR=e.i(66576),eF=e.i(29601),eV=e.i(18457),eG=e.i(20135),eq=(e.i(19346),(e,t)=>t),eH=(e,t,r)=>r,eW=(0,eu.createSelector)([eq,el.selectUnfilteredCartesianItems,eH],(e,t,r)=>t.filter(e=>"bar"===e.type).filter(t=>t.stackId===e).filter(e=>e.isPanorama===r).filter(e=>!e.hide)),eU=(0,eu.createSelector)([eW],e=>e.map(e=>e.id)),eY=(0,eu.createSelector)([e=>e,eq,eH],(e,t,r)=>{var a=eU(e,t,r),i=[];return a.forEach(t=>{var a=eD(e,t,r,void 0);null==a||a.forEach((e,t)=>{i[t]=((e,t)=>{if(!e)return t;if(!t)return e;var r=Math.min(e.x,e.x+e.width,t.x,t.x+t.width),a=Math.min(e.y,e.y+e.height,t.y,t.y+t.height);return{x:r,y:a,width:Math.max(e.x,e.x+e.width,t.x,t.x+t.width)-r,height:Math.max(e.y,e.y+e.height,t.y,t.y+t.height)-a}})(i[t],e)})}),i}),eX=e.i(29905),eZ=["index"];function eQ(){return(eQ=Object.assign.bind()).apply(null,arguments)}var e$=(0,r.createContext)(void 0),eJ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),e0=e=>{var{index:t}=e,a=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,eZ),i=(e=>{var t=(0,r.useContext)(e$);if(null!=t){var{stackId:a}=t;return"url(#".concat(eJ(a,e),")")}})(t);return r.createElement(V.Layer,eQ({className:"recharts-bar-stack-layer",clipPath:i},a))};eG.propsAreEqual;var e1=["onMouseEnter","onMouseLeave","onClick"],e2=["value","background","tooltipPosition"],e5=["id"],e4=["onMouseEnter","onClick","onMouseLeave"];function e6(){return(e6=Object.assign.bind()).apply(null,arguments)}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function e9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e3(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var e8=R.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:i,name:n,hide:l,unit:s,tooltipType:o,id:c}=e,d={dataDefinedOnItem:void 0,getPosition:H.noop,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:(0,U.getTooltipNameProp)(n,t),hide:l,type:o,color:i,unit:s,graphicalItemId:c}};return R.createElement(et.SetTooltipEntrySettings,{tooltipEntrySettings:d})});function te(e){var t,r=(0,en.useAppSelector)(ez.selectActiveTooltipIndex),{data:a,dataKey:i,background:n,allOtherBarProps:l}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=l,d=e3(l,e1),u=(0,ee.useMouseEnterItemDispatch)(s,i,l.id),m=(0,ee.useMouseLeaveItemDispatch)(o),p=(0,ee.useMouseClickItemDispatch)(c,i,l.id);if(!n||null==a)return null;var f=(0,eK.svgPropertiesNoEventsFromUnknown)(n);return R.createElement(eF.ZIndexLayer,{zIndex:(t=eV.DefaultZIndexes.barBackground,n&&"object"==typeof n&&"zIndex"in n&&"number"==typeof n.zIndex&&(0,ev.isWellBehavedNumber)(n.zIndex)?n.zIndex:t)},a.map((e,t)=>{var{value:a,background:l,tooltipPosition:s}=e,o=e3(e,e2);if(!l)return null;var c=u(e,t),x=m(e,t),h=p(e,t),v=e9(e9(e9(e9(e9({option:n,isActive:String(t)===r},o),{},{fill:"#eee"},l),f),(0,Y.adaptEventsOfChild)(d,e,t)),{},{onMouseEnter:c,onMouseLeave:x,onClick:h,dataKey:i,index:t,className:"recharts-bar-background-rectangle"});return R.createElement($,e6({key:"background-bar-".concat(t)},v))}))}function tt(e){var{showLabels:t,children:r,rects:a}=e,i=null==a?void 0:a.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return e9(e9({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return R.createElement(q.CartesianLabelListContextProvider,{value:t?i:void 0},r)}function tr(e){var{shape:t,activeBar:r,baseProps:a,entry:i,index:n,dataKey:l}=e,s=(0,en.useAppSelector)(ez.selectActiveTooltipIndex),o=(0,en.useAppSelector)(ez.selectActiveTooltipDataKey),c=r&&String(n)===s&&(null==o||l===o),d=c?r:t;return c?R.createElement(eF.ZIndexLayer,{zIndex:eV.DefaultZIndexes.activeBar},R.createElement(e0,{index:n},R.createElement($,e6({},a,{name:String(a.name)},i,{isActive:c,option:d,index:n,dataKey:l})))):R.createElement($,e6({},a,{name:String(a.name)},i,{isActive:c,option:d,index:n,dataKey:l}))}function ta(e){var{shape:t,baseProps:r,entry:a,index:i,dataKey:n}=e;return R.createElement($,e6({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:i,dataKey:n}))}function ti(e){var t,{data:r,props:a}=e,i=null!=(t=(0,eK.svgPropertiesNoEvents)(a))?t:{},{id:n}=i,l=e3(i,e5),{shape:s,dataKey:o,activeBar:c}=a,{onMouseEnter:d,onClick:u,onMouseLeave:m}=a,p=e3(a,e4),f=(0,ee.useMouseEnterItemDispatch)(d,o,n),x=(0,ee.useMouseLeaveItemDispatch)(m),h=(0,ee.useMouseClickItemDispatch)(u,o,n);return r?R.createElement(R.Fragment,null,r.map((e,t)=>R.createElement(e0,e6({index:t,key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},(0,Y.adaptEventsOfChild)(p,e,t),{onMouseEnter:f(e,t),onMouseLeave:x(e,t),onClick:h(e,t)}),c?R.createElement(tr,{shape:s,activeBar:c,baseProps:l,entry:e,index:t,dataKey:o}):R.createElement(ta,{shape:s,baseProps:l,entry:e,index:t,dataKey:o})))):null}function tn(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:n,animationBegin:l,animationDuration:s,animationEasing:o,onAnimationEnd:c,onAnimationStart:d}=t,u=r.current,m=(0,eL.useAnimationId)(t,"recharts-bar-"),[p,f]=(0,R.useState)(!1),x=(0,R.useCallback)(()=>{"function"==typeof c&&c(),f(!1)},[c]),h=(0,R.useCallback)(()=>{"function"==typeof d&&d(),f(!0)},[d]);return R.createElement(tt,{showLabels:!p,rects:a},R.createElement(eR.JavascriptAnimate,{animationId:m,begin:l,duration:s,isActive:n,easing:o,onAnimationEnd:x,onAnimationStart:h,key:m},e=>{var n=1===e?a:null==a?void 0:a.map((t,r)=>{var a=u&&u[r];if(a)return e9(e9({},t),{},{x:(0,H.interpolate)(a.x,t.x,e),y:(0,H.interpolate)(a.y,t.y,e),width:(0,H.interpolate)(a.width,t.width,e),height:(0,H.interpolate)(a.height,t.height,e)});if("horizontal"===i){var n=(0,H.interpolate)(0,t.height,e),l=(0,H.interpolate)(t.stackedBarStart,t.y,e);return e9(e9({},t),{},{y:l,height:n})}var s=(0,H.interpolate)(0,t.width,e),o=(0,H.interpolate)(t.stackedBarStart,t.x,e);return e9(e9({},t),{},{width:s,x:o})});return(e>0&&(r.current=null!=n?n:null),null==n)?null:R.createElement(V.Layer,null,R.createElement(ti,{props:t,data:n}))}),R.createElement(q.LabelListFromLabelProp,{label:t.label}),t.children)}function tl(e){var t=(0,R.useRef)(null);return R.createElement(tn,{previousRectanglesRef:t,props:e})}var ts=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:(0,U.getValueByDataKey)(e,t)}};class to extends R.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:a,xAxisId:i,yAxisId:n,needClip:l,background:s,id:o}=this.props;if(e||null==t)return null;var c=(0,F.clsx)("recharts-bar",a);return R.createElement(V.Layer,{className:c,id:o},l&&R.createElement("defs",null,R.createElement(ec,{clipPathId:o,xAxisId:i,yAxisId:n})),R.createElement(V.Layer,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(o,")"):void 0},R.createElement(te,{data:t,dataKey:r,background:s,allOtherBarProps:this.props}),R.createElement(tl,this.props)))}}var tc={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0,zIndex:eV.DefaultZIndexes.bar};function td(e){var t,{xAxisId:r,yAxisId:a,hide:i,legendType:n,minPointSize:l,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=eo(r,a),p=(0,ed.useChartLayout)(),f=(0,eT.useIsPanorama)(),x=(0,W.findAllByType)(e.children,G.Cell),h=(0,en.useAppSelector)(t=>eD(t,e.id,f,x));if("vertical"!==p&&"horizontal"!==p)return null;var v=null==h?void 0:h[0];return t=null==v||null==v.height||null==v.width?0:"vertical"===p?v.height/2:v.width/2,R.createElement(ei,{xAxisId:r,yAxisId:a,data:h,dataPointFormatter:ts,errorBarOffset:t},R.createElement(to,e6({},e,{layout:p,needClip:m,data:h,xAxisId:r,yAxisId:a,hide:i,legendType:n,minPointSize:l,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}var tu=R.memo(function(e){var t,a,i=(0,z.resolveDefaultProps)(e,tc),n=(t=i.stackId,null!=(a=(0,r.useContext)(e$))?a.stackId:null!=t?(0,U.getNormalizedStackId)(t):void 0),l=(0,eT.useIsPanorama)();return R.createElement(eB.RegisterGraphicalItemId,{id:i.id,type:"bar"},e=>R.createElement(R.Fragment,null,R.createElement(eM.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,fill:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:a,value:(0,U.getTooltipNameProp)(r,t),payload:e}]})(i)}),R.createElement(e8,{dataKey:i.dataKey,stroke:i.stroke,strokeWidth:i.strokeWidth,fill:i.fill,name:i.name,hide:i.hide,unit:i.unit,tooltipType:i.tooltipType,id:e}),R.createElement(e_.SetCartesianGraphicalItem,{type:"bar",id:e,data:void 0,xAxisId:i.xAxisId,yAxisId:i.yAxisId,zAxisId:0,dataKey:i.dataKey,stackId:n,hide:i.hide,barSize:i.barSize,minPointSize:i.minPointSize,maxBarSize:i.maxBarSize,isPanorama:l}),R.createElement(eF.ZIndexLayer,{zIndex:i.zIndex},R.createElement(td,e6({},i,{id:e})))))},eG.propsAreEqual);tu.displayName="Bar";var tm=e.i(92068),tp=e.i(9516),tf=e.i(494),tx=e.i(68431),th=e.i(62728),tv=function(e){var{width:t,height:r}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(a%180+180)%180*Math.PI/180,n=Math.atan(r/t);return Math.abs(i>n&&i<Math.PI-n?r/Math.sin(i):t/Math.cos(i))};function ty(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],a=0;a<e.length;a+=t){var i=e[a];void 0!==i&&r.push(i)}return r}function tg(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var n=r();return e*(t-e*n/2-a)>=0&&e*(t+e*n/2-i)<=0}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tw(e,t,r){var a,{tick:i,ticks:n,viewBox:l,minTickGap:s,orientation:o,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!n||!n.length||!i)return[];if((0,H.isNumber)(c)||th.Global.isSsr)return null!=(a=ty(n,((0,H.isNumber)(c)?c:0)+1))?a:[];var p="top"===o||"bottom"===o?"width":"height",f=u&&"width"===p?(0,tx.getStringSize)(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(e,a)=>{var i,n="function"==typeof d?d(e.value,a):e.value;return"width"===p?(i=(0,tx.getStringSize)(n,{fontSize:t,letterSpacing:r}),tv({width:i.width+f.width,height:i.height+f.height},m)):(0,tx.getStringSize)(n,{fontSize:t,letterSpacing:r})[p]},h=n[0],v=n[1],y=n.length>=2&&null!=h&&null!=v?(0,H.mathSign)(v.coordinate-h.coordinate):1,g=function(e,t,r){var a="width"===r,{x:i,y:n,width:l,height:s}=e;return 1===t?{start:a?i:n,end:a?i+l:n+s}:{start:a?i+l:n+s,end:a?i:n}}(l,y,p);return"equidistantPreserveStart"===c?function(e,t,r,a,i){for(var n,l=(a||[]).slice(),{start:s,end:o}=t,c=0,d=1,u=s;d<=l.length;)if(n=function(){var t,n=null==a?void 0:a[c];if(void 0===n)return{v:ty(a,d)};var l=c,m=()=>(void 0===t&&(t=r(n,l)),t),p=n.coordinate,f=0===c||tg(e,p,m,u,o);f||(c=0,u=s,d+=1),f&&(u=p+e*(m()/2+i),c+=d)}())return n.v;return[]}(y,g,x,n,s):"equidistantPreserveEnd"===c?function(e,t,r,a,i){var n=(a||[]).slice().length;if(0===n)return[];for(var{start:l,end:s}=t,o=1;o<=n;o++){for(var c,d=(n-1)%o,u=l,m=!0,p=d;p<n&&(0===(c=function(){var t,n=a[p];if(null==n)return 0;var l=p,o=()=>(void 0===t&&(t=r(n,l)),t),c=n.coordinate,f=p===d||tg(e,c,o,u,s);if(!f)return m=!1,1;f&&(u=c+e*(o()/2+i))}())||1!==c);p+=o);if(m){for(var f=[],x=d;x<n;x+=o){var h=a[x];null!=h&&f.push(h)}return f}}return[]}(y,g,x,n,s):("preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,a,i,n){var l=(a||[]).slice(),s=l.length,{start:o,end:c}=t;if(n){var d=a[s-1];if(null!=d){var u=r(d,s-1),m=e*(d.coordinate+e*u/2-c);l[s-1]=d=tj(tj({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),null!=d.tickCoord&&tg(e,d.tickCoord,()=>u,o,c)&&(c=d.tickCoord-e*(u/2+i),l[s-1]=tj(tj({},d),{},{isShow:!0}))}}for(var p=n?s-1:s,f=function(t){var a,n=l[t];if(null==n)return 1;var s=n,d=()=>(void 0===a&&(a=r(n,t)),a);if(0===t){var u=e*(s.coordinate-e*d()/2-o);l[t]=s=tj(tj({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else l[t]=s=tj(tj({},s),{},{tickCoord:s.coordinate});null!=s.tickCoord&&tg(e,s.tickCoord,d,o,c)&&(o=s.tickCoord+e*(d()/2+i),l[t]=tj(tj({},s),{},{isShow:!0}))},x=0;x<p;x++)if(f(x))continue;return l}(y,g,x,n,s,"preserveStartEnd"===c):function(e,t,r,a,i){for(var n=(a||[]).slice(),l=n.length,{start:s}=t,{end:o}=t,c=function(t){var a,c=n[t];if(null==c)return 1;var d=c,u=()=>(void 0===a&&(a=r(c,t)),a);if(t===l-1){var m=e*(d.coordinate+e*u()/2-o);n[t]=d=tj(tj({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate})}else n[t]=d=tj(tj({},d),{},{tickCoord:d.coordinate});null!=d.tickCoord&&tg(e,d.tickCoord,u,s,o)&&(o=d.tickCoord-e*(u()/2+i),n[t]=tj(tj({},d),{},{isShow:!0}))},d=l-1;d>=0;d--)if(c(d))continue;return n}(y,g,x,n,s)).filter(e=>e.isShow)}var tO=e.i(51161),tk=["axisLine","width","height","className","hide","ticks","axisType"];function tN(){return(tN=Object.assign.bind()).apply(null,arguments)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:eV.DefaultZIndexes.axis};function tA(e){var{x:t,y:a,width:i,height:n,orientation:l,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=tC(tC(tC({},c),(0,eK.svgPropertiesNoEvents)(o)),{},{fill:"none"});if("top"===l||"bottom"===l){var u=+("top"===l&&!s||"bottom"===l&&s);d=tC(tC({},d),{},{x1:t,y1:a+u*n,x2:t+i,y2:a+u*n})}else{var m=+("left"===l&&!s||"right"===l&&s);d=tC(tC({},d),{},{x1:t+m*i,y1:a,x2:t+m*i,y2:a+n})}return r.createElement("line",tN({},d,{className:(0,F.clsx)("recharts-cartesian-axis-line",(0,tm.default)(o,"className"))}))}function tE(e){var t,{option:a,tickProps:i,value:n}=e,l=(0,F.clsx)(i.className,"recharts-cartesian-axis-tick-value");if(r.isValidElement(a))t=r.cloneElement(a,tC(tC({},i),{},{className:l}));else if("function"==typeof a)t=a(tC(tC({},i),{},{className:l}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!=typeof a&&(s=(0,F.clsx)(s,(0,tO.getClassNameFromUnknown)(a))),t=r.createElement(tp.Text,tN({},i,{className:s}),n)}return t}var tI=(0,r.forwardRef)((e,t)=>{var{ticks:a=[],tick:i,tickLine:n,stroke:l,tickFormatter:s,unit:o,padding:c,tickTextProps:d,orientation:u,mirror:m,x:p,y:f,width:x,height:h,tickSize:v,tickMargin:y,fontSize:g,letterSpacing:b,getTicksConfig:j,events:w,axisType:O}=e,k=tw(tC(tC({},j),{},{ticks:a}),g,b),N=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,m),P=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,m),C=(0,eK.svgPropertiesNoEvents)(j),S=(0,eK.svgPropertiesNoEventsFromUnknown)(i),A={};"object"==typeof n&&(A=n);var E=tC(tC({},C),{},{fill:"none"},A),I=k.map(e=>tC({entry:e},function(e,t,r,a,i,n,l,s,o){var c,d,u,m,p,f,x=s?-1:1,h=e.tickSize||l,v=(0,H.isNumber)(e.tickCoord)?e.tickCoord:e.coordinate;switch(n){case"top":c=d=e.coordinate,f=(u=(m=r+!s*i)-x*h)-x*o,p=v;break;case"left":u=m=e.coordinate,p=(c=(d=t+!s*a)-x*h)-x*o,f=v;break;case"right":u=m=e.coordinate,p=(c=(d=t+s*a)+x*h)+x*o,f=v;break;default:c=d=e.coordinate,f=(u=(m=r+s*i)+x*h)+x*o,p=v}return{line:{x1:c,y1:u,x2:d,y2:m},tick:{x:p,y:f}}}(e,p,f,x,h,u,v,m,y))),D=I.map(e=>{var{entry:t,line:a}=e;return r.createElement(V.Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},n&&r.createElement("line",tN({},E,a,{className:(0,F.clsx)("recharts-cartesian-axis-tick-line",(0,tm.default)(n,"className"))})))}),T=I.map((e,t)=>{var a,n,{entry:u,tick:m}=e,p=tC(tC(tC(tC({verticalAnchor:P},C),{},{textAnchor:N,stroke:"none",fill:l},m),{},{index:t,payload:u,visibleTicksCount:k.length,tickFormatter:s,padding:c},d),{},{angle:null!=(a=null!=(n=null==d?void 0:d.angle)?n:C.angle)?a:0}),f=tC(tC({},p),S);return r.createElement(V.Layer,tN({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(u.value,"-").concat(u.coordinate,"-").concat(u.tickCoord)},(0,Y.adaptEventsOfChild)(w,u,t)),i&&r.createElement(tE,{option:i,tickProps:f,value:"".concat("function"==typeof s?s(u.value,t):u.value).concat(o||"")}))});return r.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},T.length>0&&r.createElement(eF.ZIndexLayer,{zIndex:eV.DefaultZIndexes.label},r.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},T)),D.length>0&&r.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},D))}),tD=(0,r.forwardRef)((e,t)=>{var{axisLine:a,width:i,height:n,className:l,hide:s,ticks:o,axisType:c}=e,d=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,tk),[u,m]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),x=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:i=0,tickMargin:n=0}=e,l=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>l&&(l=t.width)}});var s=r?r.getBoundingClientRect().width:0;return Math.round(l+(i+n)+s+(r?a:0))}return 0})({ticks:x.current,label:null==(t=e.labelRef)?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var h=(0,r.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=t;var r=t[0];if(r){var a=window.getComputedStyle(r),i=a.fontSize,n=a.letterSpacing;(i!==u||n!==p)&&(m(i),f(n))}}},[u,p]);return s||null!=i&&i<=0||null!=n&&n<=0?null:r.createElement(eF.ZIndexLayer,{zIndex:e.zIndex},r.createElement(V.Layer,{className:(0,F.clsx)("recharts-cartesian-axis",l)},r.createElement(tA,{x:e.x,y:e.y,width:i,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:a,otherSvgProps:(0,eK.svgPropertiesNoEvents)(e)}),r.createElement(tI,{ref:h,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),r.createElement(tf.CartesianLabelContextProvider,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},r.createElement(tf.CartesianLabelFromLabelProp,{label:e.label,labelRef:e.labelRef}),e.children)))}),tT=r.forwardRef((e,t)=>{var a=(0,z.resolveDefaultProps)(e,tS);return r.createElement(tD,tN({},a,{ref:t}))});tT.displayName="CartesianAxis";var tz=["domain","range"],tM=["domain","range"];function tL(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tB(e,t){return e===t||!!(Array.isArray(e)&&2===e.length&&Array.isArray(t))&&2===t.length&&e[0]===t[0]&&e[1]===t[1]}function t_(e,t){if(e===t)return!0;var{domain:r,range:a}=e,i=tL(e,tz),{domain:n,range:l}=t,s=tL(t,tM);return!!tB(r,n)&&!!tB(a,l)&&(0,eG.propsAreEqual)(i,s)}var tK=e.i(6393),tR=["type"],tF=["dangerouslySetInnerHTML","ticks","scale"],tV=["id","scale"];function tG(){return(tG=Object.assign.bind()).apply(null,arguments)}function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function tH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tW(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tU(e){var t=(0,en.useAppDispatch)(),a=(0,r.useRef)(null),i=(0,ed.useCartesianChartLayout)(),{type:n}=e,l=tW(e,tR),s=(0,tK.getAxisTypeBasedOnLayout)(i,"xAxis",n),o=(0,r.useMemo)(()=>{if(null!=s)return tH(tH({},l),{},{type:s})},[l,s]);return(0,r.useLayoutEffect)(()=>{null!=o&&(null===a.current?t((0,ej.addXAxis)(o)):a.current!==o&&t((0,ej.replaceXAxis)({prev:a.current,next:o})),a.current=o)},[o,t]),(0,r.useLayoutEffect)(()=>()=>{a.current&&(t((0,ej.removeXAxis)(a.current)),a.current=null)},[t]),null}var tY=e=>{var{xAxisId:t,className:a}=e,i=(0,en.useAppSelector)(ep.selectAxisViewBox),n=(0,eT.useIsPanorama)(),l="xAxis",s=(0,en.useAppSelector)(e=>(0,el.selectTicksOfAxis)(e,l,t,n)),o=(0,en.useAppSelector)(e=>(0,el.selectXAxisSize)(e,t)),c=(0,en.useAppSelector)(e=>(0,el.selectXAxisPosition)(e,t)),d=(0,en.useAppSelector)(e=>(0,el.selectXAxisSettingsNoDefaults)(e,t));if(null==o||null==c||null==d)return null;var{dangerouslySetInnerHTML:u,ticks:m,scale:p}=e,f=tW(e,tF),{id:x,scale:h}=d,v=tW(d,tV);return r.createElement(tT,tG({},f,v,{x:c.x,y:c.y,width:o.width,height:o.height,className:(0,F.clsx)("recharts-".concat(l," ").concat(l),a),viewBox:i,ticks:s,axisType:l}))},tX={allowDataOverflow:el.implicitXAxis.allowDataOverflow,allowDecimals:el.implicitXAxis.allowDecimals,allowDuplicatedCategory:el.implicitXAxis.allowDuplicatedCategory,angle:el.implicitXAxis.angle,axisLine:tS.axisLine,height:el.implicitXAxis.height,hide:!1,includeHidden:el.implicitXAxis.includeHidden,interval:el.implicitXAxis.interval,label:!1,minTickGap:el.implicitXAxis.minTickGap,mirror:el.implicitXAxis.mirror,orientation:el.implicitXAxis.orientation,padding:el.implicitXAxis.padding,reversed:el.implicitXAxis.reversed,scale:el.implicitXAxis.scale,tick:el.implicitXAxis.tick,tickCount:el.implicitXAxis.tickCount,tickLine:tS.tickLine,tickSize:tS.tickSize,type:el.implicitXAxis.type,xAxisId:0},tZ=r.memo(e=>{var t=(0,z.resolveDefaultProps)(e,tX);return r.createElement(r.Fragment,null,r.createElement(tU,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),r.createElement(tY,t))},t_);tZ.displayName="XAxis";var tQ=["type"],t$=["dangerouslySetInnerHTML","ticks","scale"],tJ=["id","scale"];function t0(){return(t0=Object.assign.bind()).apply(null,arguments)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t5(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t4(e){var t=(0,en.useAppDispatch)(),a=(0,r.useRef)(null),i=(0,ed.useCartesianChartLayout)(),{type:n}=e,l=t5(e,tQ),s=(0,tK.getAxisTypeBasedOnLayout)(i,"yAxis",n),o=(0,r.useMemo)(()=>{if(null!=s)return t2(t2({},l),{},{type:s})},[s,l]);return(0,r.useLayoutEffect)(()=>{null!=o&&(null===a.current?t((0,ej.addYAxis)(o)):a.current!==o&&t((0,ej.replaceYAxis)({prev:a.current,next:o})),a.current=o)},[o,t]),(0,r.useLayoutEffect)(()=>()=>{a.current&&(t((0,ej.removeYAxis)(a.current)),a.current=null)},[t]),null}function t6(e){var{yAxisId:t,className:a,width:i,label:n}=e,l=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,en.useAppSelector)(ep.selectAxisViewBox),c=(0,eT.useIsPanorama)(),d=(0,en.useAppDispatch)(),u="yAxis",m=(0,en.useAppSelector)(e=>(0,el.selectYAxisSize)(e,t)),p=(0,en.useAppSelector)(e=>(0,el.selectYAxisPosition)(e,t)),f=(0,en.useAppSelector)(e=>(0,el.selectTicksOfAxis)(e,u,t,c)),x=(0,en.useAppSelector)(e=>(0,el.selectYAxisSettingsNoDefaults)(e,t));if((0,r.useLayoutEffect)(()=>{if(!("auto"!==i||!m||(0,tf.isLabelContentAFunction)(n)||(0,r.isValidElement)(n))&&null!=x){var e=l.current;if(e){var a=e.getCalculatedWidth();Math.round(m.width)!==Math.round(a)&&d((0,ej.updateYAxisWidth)({id:t,width:a}))}}},[f,m,d,n,t,i,x]),null==m||null==p||null==x)return null;var{dangerouslySetInnerHTML:h,ticks:v,scale:y}=e,g=t5(e,t$),{id:b,scale:j}=x,w=t5(x,tJ);return r.createElement(tT,t0({},g,w,{ref:l,labelRef:s,x:p.x,y:p.y,tickTextProps:"auto"===i?{width:void 0}:{width:i},width:m.width,height:m.height,className:(0,F.clsx)("recharts-".concat(u," ").concat(u),a),viewBox:o,ticks:f,axisType:u}))}var t7={allowDataOverflow:el.implicitYAxis.allowDataOverflow,allowDecimals:el.implicitYAxis.allowDecimals,allowDuplicatedCategory:el.implicitYAxis.allowDuplicatedCategory,angle:el.implicitYAxis.angle,axisLine:tS.axisLine,hide:!1,includeHidden:el.implicitYAxis.includeHidden,interval:el.implicitYAxis.interval,label:!1,minTickGap:el.implicitYAxis.minTickGap,mirror:el.implicitYAxis.mirror,orientation:el.implicitYAxis.orientation,padding:el.implicitYAxis.padding,reversed:el.implicitYAxis.reversed,scale:el.implicitYAxis.scale,tick:el.implicitYAxis.tick,tickCount:el.implicitYAxis.tickCount,tickLine:tS.tickLine,tickSize:tS.tickSize,type:el.implicitYAxis.type,width:el.implicitYAxis.width,yAxisId:0},t9=r.memo(e=>{var t=(0,z.resolveDefaultProps)(e,t7);return r.createElement(r.Fragment,null,r.createElement(t4,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),r.createElement(t6,t))},t_);t9.displayName="YAxis";var t3=e.i(29071),t8=["x1","y1","x2","y2","key"],re=["offset"],rt=["xAxisId","yAxisId"],rr=["xAxisId","yAxisId"];function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rn(){return(rn=Object.assign.bind()).apply(null,arguments)}function rl(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rs=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:a,x:i,y:n,width:l,height:s,ry:o}=e;return r.createElement("rect",{x:i,y:n,ry:o,width:l,height:s,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function ro(e){var{option:t,lineItemProps:a}=e;if(r.isValidElement(t))i=r.cloneElement(t,a);else if("function"==typeof t)i=t(a);else{var i,n,{x1:l,y1:s,x2:o,y2:c,key:d}=a,u=rl(a,t8),m=null!=(n=(0,eK.svgPropertiesNoEvents)(u))?n:{},{offset:p}=m,f=rl(m,re);i=r.createElement("line",rn({},f,{x1:l,y1:s,x2:o,y2:c,fill:"none",key:d}))}return i}function rc(e){var{x:t,width:a,horizontal:i=!0,horizontalPoints:n}=e;if(!i||!n||!n.length)return null;var{xAxisId:l,yAxisId:s}=e,o=rl(e,rt),c=n.map((e,n)=>{var l=ri(ri({},o),{},{x1:t,y1:e,x2:t+a,y2:e,key:"line-".concat(n),index:n});return r.createElement(ro,{key:"line-".concat(n),option:i,lineItemProps:l})});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function rd(e){var{y:t,height:a,vertical:i=!0,verticalPoints:n}=e;if(!i||!n||!n.length)return null;var{xAxisId:l,yAxisId:s}=e,o=rl(e,rr),c=n.map((e,n)=>{var l=ri(ri({},o),{},{x1:e,y1:t,x2:e,y2:t+a,key:"line-".concat(n),index:n});return r.createElement(ro,{option:i,lineItemProps:l,key:"line-".concat(n)})});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ru(e){var{horizontalFill:t,fillOpacity:a,x:i,y:n,width:l,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||null==o)return null;var d=o.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==d[0]&&d.unshift(0);var u=d.map((e,o)=>{var c=d[o+1],u=null==c?n+s-e:c-e;if(u<=0)return null;var m=o%t.length;return r.createElement("rect",{key:"react-".concat(o),y:e,x:i,height:u,width:l,stroke:"none",fill:t[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function rm(e){var{vertical:t=!0,verticalFill:a,fillOpacity:i,x:n,y:l,width:s,height:o,verticalPoints:c}=e;if(!t||!a||!a.length)return null;var d=c.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==d[0]&&d.unshift(0);var u=d.map((e,t)=>{var c=d[t+1],u=null==c?n+s-e:c-e;if(u<=0)return null;var m=t%a.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:l,width:u,height:o,stroke:"none",fill:a[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var rp=(e,t)=>{var{xAxis:r,width:a,height:i,offset:n}=e;return(0,U.getCoordinatesOfGrid)(tw(ri(ri(ri({},tS),r),{},{ticks:(0,U.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),n.left,n.left+n.width,t)},rf=(e,t)=>{var{yAxis:r,width:a,height:i,offset:n}=e;return(0,U.getCoordinatesOfGrid)(tw(ri(ri(ri({},tS),r),{},{ticks:(0,U.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),n.top,n.top+n.height,t)},rx={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:eV.DefaultZIndexes.grid};function rh(e){var t=(0,ed.useChartWidth)(),a=(0,ed.useChartHeight)(),i=(0,ed.useOffsetInternal)(),n=ri(ri({},(0,z.resolveDefaultProps)(e,rx)),{},{x:(0,H.isNumber)(e.x)?e.x:i.left,y:(0,H.isNumber)(e.y)?e.y:i.top,width:(0,H.isNumber)(e.width)?e.width:i.width,height:(0,H.isNumber)(e.height)?e.height:i.height}),{xAxisId:l,yAxisId:s,x:o,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:p,verticalValues:f}=n,x=(0,eT.useIsPanorama)(),h=(0,en.useAppSelector)(e=>(0,el.selectAxisPropsNeededForCartesianGridTicksGenerator)(e,"xAxis",l,x)),v=(0,en.useAppSelector)(e=>(0,el.selectAxisPropsNeededForCartesianGridTicksGenerator)(e,"yAxis",s,x));if(!(0,ev.isPositiveNumber)(d)||!(0,ev.isPositiveNumber)(u)||!(0,H.isNumber)(o)||!(0,H.isNumber)(c))return null;var y=n.verticalCoordinatesGenerator||rp,g=n.horizontalCoordinatesGenerator||rf,{horizontalPoints:b,verticalPoints:j}=n;if((!b||!b.length)&&"function"==typeof g){var w=p&&p.length,O=g({yAxis:v?ri(ri({},v),{},{ticks:w?p:v.ticks}):void 0,width:null!=t?t:d,height:null!=a?a:u,offset:i},!!w||m);(0,t3.warn)(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(b=O)}if((!j||!j.length)&&"function"==typeof y){var k=f&&f.length,N=y({xAxis:h?ri(ri({},h),{},{ticks:k?f:h.ticks}):void 0,width:null!=t?t:d,height:null!=a?a:u,offset:i},!!k||m);(0,t3.warn)(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}return r.createElement(eF.ZIndexLayer,{zIndex:n.zIndex},r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(rs,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),r.createElement(ru,rn({},n,{horizontalPoints:b})),r.createElement(rm,rn({},n,{verticalPoints:j})),r.createElement(rc,rn({},n,{offset:i,horizontalPoints:b,xAxis:h,yAxis:v})),r.createElement(rd,rn({},n,{offset:i,verticalPoints:j,xAxis:h,yAxis:v}))))}rh.displayName="CartesianGrid";var rv=e.i(34239),ry=e.i(31195);let rg=(0,i.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function rb({text:e,className:a}){let[i,n]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"relative inline-flex items-center ml-2",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,t.jsx)(rg,{className:(0,s.cn)("h-4 w-4 text-muted-foreground cursor-help hover:text-primary transition-colors",a)}),i&&(0,t.jsxs)("div",{className:"absolute z-50 w-64 p-2 text-xs text-white bg-slate-900 rounded shadow-lg -top-2 left-6 animate-in fade-in zoom-in-95 duration-200",children:[e,(0,t.jsx)("div",{className:"absolute top-3 -left-1 w-2 h-2 bg-slate-900 transform rotate-45"})]})]})}function rj(){let{data:e,isLoading:a}=(0,o.useQuery)({queryKey:["dashValuation"],queryFn:d}),{data:i,isLoading:n}=(0,o.useQuery)({queryKey:["dashOtif"],queryFn:u}),[s,c]=(0,r.useState)("PEN");if(a||n)return(0,t.jsx)("div",{className:"p-10 text-center animate-pulse",children:"Cargando indicadores estratgicos..."});let m="PEN"===s?e?.valor_inventario_pen??0:e?.valor_inventario_usd??0,p=i?.[0],f=p?.pct_otif??0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center bg-muted/30 p-4 rounded-lg border",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Resumen Ejecutivo de Valorizacin"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estado financiero del inventario y nivel de servicio."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.Label,{htmlFor:"currency-mode",className:"font-bold",children:"PEN"}),(0,t.jsx)(O.Switch,{id:"currency-mode",checked:"USD"===s,onCheckedChange:e=>c(e?"USD":"PEN")}),(0,t.jsx)(k.Label,{htmlFor:"currency-mode",className:"font-bold",children:"USD"})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Valor Total Inventario",(0,t.jsx)(rb,{text:"Suma total del valor de tu stock actual, calculado usando el Precio Medio Ponderado (PMP) de cada material."})]}),(0,t.jsx)(N.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["PEN"===s?"S/":"$"," ",m.toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Valorado a PMP (",s,")"]})]})]}),(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Nivel de Servicio (OTIF)",(0,t.jsx)(rb,{text:"On-Time In-Full. Porcentaje de pedidos entregados A TIEMPO y COMPLETOS segn la Fecha Prometida."})]}),(0,t.jsx)(C,{className:`h-4 w-4 ${f>=95?"text-green-500":"text-yellow-500"}`})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[f,"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pedidos a tiempo este mes"})]})]}),(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Materiales Crticos",(0,t.jsx)(rb,{text:"SKUs cuyo stock actual est por debajo del 'Stock Mnimo' definido. Riesgo alto de parar produccin."})]}),(0,t.jsx)(P.AlertCircle,{className:"h-4 w-4 text-red-500"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e?.skus_criticos??0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"SKUs en Stockout Inminente"})]})]}),(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Items (SKUs)"}),(0,t.jsx)(rw,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e?.total_skus??0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Productos registrados"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,t.jsxs)(w.Card,{className:"col-span-4",children:[(0,t.jsxs)(w.CardHeader,{children:[(0,t.jsxs)(w.CardTitle,{className:"flex items-center",children:["Histrico de Cumplimiento (OTIF)",(0,t.jsx)(rb,{text:"Evolucin mensual de tu puntualidad. Cada barra representa un mes. Altura = % de pedidos a tiempo. Verde = >90%, Amarillo = <90%."})]}),(0,t.jsx)(w.CardDescription,{children:"Evolucin del nivel de servicio ltimos 6 meses"})]}),(0,t.jsx)(w.CardContent,{className:"pl-2",children:(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(ry.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(K,{data:i?[...i].reverse():[],children:[(0,t.jsx)(rh,{strokeDasharray:"3 3",vertical:!1}),(0,t.jsx)(tZ,{dataKey:"mes",tickFormatter:e=>new Date(e).toLocaleDateString(void 0,{month:"short"}),fontSize:12}),(0,t.jsx)(t9,{tickFormatter:e=>`${e}%`,domain:[0,100],fontSize:12}),(0,t.jsx)(rv.Tooltip,{formatter:e=>[`${e}%`,"OTIF"],labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,t.jsx)(tu,{dataKey:"pct_otif",radius:[4,4,0,0],children:i?.map((e,r)=>(0,t.jsx)(G.Cell,{fill:e.pct_otif>=90?"#22c55e":"#eab308"},`cell-${r}`))})]})})})})]}),(0,t.jsxs)(w.Card,{className:"col-span-3",children:[(0,t.jsxs)(w.CardHeader,{children:[(0,t.jsx)(w.CardTitle,{children:"Margen de Contribucin"}),(0,t.jsx)(w.CardDescription,{children:"Ventas vs Costos Directos (Mes Actual)"})]}),(0,t.jsx)(w.CardContent,{className:"flex items-center justify-center h-[300px]",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)(l,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"Datos insuficientes para Margen."}),(0,t.jsx)("p",{className:"text-xs",children:"Registre salidas de venta para visualizar."})]})})]})]})]})}function rw(e){return(0,t.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),(0,t.jsx)("path",{d:"M17 18h1"}),(0,t.jsx)("path",{d:"M12 18h1"}),(0,t.jsx)("path",{d:"M7 18h1"})]})}var rO=e.i(94179),rk=e.i(47627),rN=["axis"],rP=(0,r.forwardRef)((e,t)=>r.createElement(B,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rN,tooltipPayloadSearcher:S.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),rC=r;function rS(){return(rS=Object.assign.bind()).apply(null,arguments)}var rA=e=>{var{cx:t,cy:a,r:i,className:n}=e,l=(0,F.clsx)("recharts-dot",n);return(0,H.isNumber)(t)&&(0,H.isNumber)(a)&&(0,H.isNumber)(i)?r.createElement("circle",rS({},(0,eK.svgPropertiesNoEvents)(e),(0,Y.adaptEventHandlers)(e),{className:l,cx:t,cy:a,r:i})):null},rE=e.i(43404),rI=["points"];function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function rT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rz(){return(rz=Object.assign.bind()).apply(null,arguments)}function rM(e){var{option:t,dotProps:a,className:i}=e;if((0,r.isValidElement)(t))return(0,r.cloneElement)(t,a);if("function"==typeof t)return t(a);var n=(0,F.clsx)(i,"boolean"!=typeof t?t.className:""),l=null!=a?a:{},{points:s}=l,o=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(l,rI);return r.createElement(rA,rz({},o,{className:n}))}function rL(e){var{points:t,dot:a,className:i,dotClassName:n,dataKey:l,baseProps:s,needClip:o,clipPathId:c,zIndex:d=eV.DefaultZIndexes.scatter}=e;if(null==t||!a&&1!==t.length)return null;var u=(0,W.isClipDot)(a),m=(0,rE.svgPropertiesAndEventsFromUnknown)(a),p=t.map((e,i)=>{var o,c,d=rT(rT(rT({r:3},s),m),{},{index:i,cx:null!=(o=e.x)?o:void 0,cy:null!=(c=e.y)?c:void 0,dataKey:l,value:e.value,payload:e.payload,points:t});return r.createElement(rM,{key:"dot-".concat(i),option:a,dotProps:d,className:n})}),f={};return o&&null!=c&&(f.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(c,")")),r.createElement(eF.ZIndexLayer,{zIndex:d},r.createElement(V.Layer,rz({className:i},f),p))}function rB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rB(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rK=e=>{var t,{point:a,childIndex:i,mainColor:n,activeDot:l,dataKey:s,clipPath:o}=e;if(!1===l||null==a.x||null==a.y)return null;var c=r_(r_(r_({},{index:i,dataKey:s,cx:a.x,cy:a.y,r:4,fill:null!=n?n:"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value}),(0,eK.svgPropertiesNoEventsFromUnknown)(l)),(0,Y.adaptEventHandlers)(l));return t=(0,r.isValidElement)(l)?(0,r.cloneElement)(l,c):"function"==typeof l?l(c):r.createElement(rA,c),r.createElement(V.Layer,{className:"recharts-active-dot",clipPath:o},t)};function rR(e){var{points:t,mainColor:a,activeDot:i,itemDataKey:n,clipPath:l,zIndex:s=eV.DefaultZIndexes.activeDot}=e,o=(0,en.useAppSelector)(ez.selectActiveTooltipIndex),c=(0,es.useActiveTooltipDataPoints)();if(null==t||null==c)return null;var d=t.find(e=>c.includes(e.payload));return(0,H.isNullish)(d)?null:r.createElement(eF.ZIndexLayer,{zIndex:s},r.createElement(rK,{point:d,childIndex:Number(o),mainColor:a,dataKey:n,activeDot:i,clipPath:l}))}var rF=(e,t,r,a)=>(0,el.selectAxisWithScale)(e,"xAxis",t,a),rV=(e,t,r,a)=>(0,el.selectTicksOfGraphicalItem)(e,"xAxis",t,a),rG=(e,t,r,a)=>(0,el.selectAxisWithScale)(e,"yAxis",r,a),rq=(e,t,r,a)=>(0,el.selectTicksOfGraphicalItem)(e,"yAxis",r,a),rH=(0,eu.createSelector)([ed.selectChartLayout,rF,rG,rV,rq],(e,t,r,a,i)=>(0,U.isCategoricalAxis)(e,"xAxis")?(0,U.getBandSizeOfAxis)(t,a,!1):(0,U.getBandSizeOfAxis)(r,i,!1));function rW(e){return"line"===e.type}var rU=(0,eu.createSelector)([el.selectUnfilteredCartesianItems,(e,t,r,a,i)=>i],(e,t)=>e.filter(rW).find(e=>e.id===t)),rY=(0,eu.createSelector)([ed.selectChartLayout,rF,rG,rV,rq,rU,rH,em.selectChartDataWithIndexesIfNotInPanoramaPosition4],(e,t,r,a,i,n,l,s)=>{var o,{chartData:c,dataStartIndex:d,dataEndIndex:u}=s;if(null!=n&&null!=t&&null!=r&&null!=a&&null!=i&&0!==a.length&&0!==i.length&&null!=l&&("horizontal"===e||"vertical"===e)){var{dataKey:m,data:p}=n;if(null!=(o=null!=p&&p.length>0?p:null==c?void 0:c.slice(d,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:i,yAxisTicks:n,dataKey:l,bandSize:s,displayedData:o}=e;return o.map((e,o)=>{var c=(0,U.getValueByDataKey)(e,l);if("horizontal"===t){var d=(0,U.getCateCoordinateOfLine)({axis:r,ticks:i,bandSize:s,entry:e,index:o}),u=(0,H.isNullish)(c)?null:a.scale.map(c);return{x:d,y:null!=u?u:null,value:c,payload:e}}var m=(0,H.isNullish)(c)?null:r.scale.map(c),p=(0,U.getCateCoordinateOfLine)({axis:a,ticks:n,bandSize:s,entry:e,index:o});return null==m||null==p?null:{x:m,y:p,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:o})}}),rX=["id"],rZ=["type","layout","connectNulls","needClip","shape"],rQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function r$(){return(r$=Object.assign.bind()).apply(null,arguments)}function rJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rJ(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r1(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var r2=rC.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:i,fill:n,name:l,hide:s,unit:o,tooltipType:c,id:d}=e,u={dataDefinedOnItem:r,getPosition:H.noop,settings:{stroke:a,strokeWidth:i,fill:n,dataKey:t,nameKey:void 0,name:(0,U.getTooltipNameProp)(l,t),hide:s,type:c,color:a,unit:o,graphicalItemId:d}};return rC.createElement(et.SetTooltipEntrySettings,{tooltipEntrySettings:u})}),r5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function r4(e){var{clipPathId:t,points:r,props:a}=e,{dot:i,dataKey:n,needClip:l}=a,{id:s}=a,o=r1(a,rX),c=(0,eK.svgPropertiesNoEvents)(o);return rC.createElement(rL,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:n,baseProps:c,needClip:l,clipPathId:t})}function r6(e){var{showLabels:t,children:r,points:a}=e,i=(0,rC.useMemo)(()=>null==a?void 0:a.map(e=>{var t,r,a={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return r0(r0({},a),{},{value:e.value,payload:e.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[a]);return rC.createElement(q.CartesianLabelListContextProvider,{value:t?i:void 0},r)}function r7(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:i,props:n}=e,{type:l,layout:s,connectNulls:o,needClip:c,shape:d}=n,u=r1(n,rZ),m=r0(r0({},(0,rE.svgPropertiesAndEvents)(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:a,type:l,layout:s,connectNulls:o,strokeDasharray:null!=i?i:n.strokeDasharray});return rC.createElement(rC.Fragment,null,(null==a?void 0:a.length)>1&&rC.createElement(Z.Shape,r$({shapeType:"curve",option:d},m,{pathRef:r})),rC.createElement(r4,{points:a,clipPathId:t,props:n}))}function r9(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:n}=e,{points:l,strokeDasharray:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,animateNewValues:m,width:p,height:f,onAnimationEnd:x,onAnimationStart:h}=r,v=i.current,y=(0,eL.useAnimationId)(l,"recharts-line-"),g=(0,rC.useRef)(y),[b,j]=(0,rC.useState)(!1),w=(0,rC.useCallback)(()=>{"function"==typeof x&&x(),j(!1)},[x]),O=(0,rC.useCallback)(()=>{"function"==typeof h&&h(),j(!0)},[h]),k=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}(a.current),N=(0,rC.useRef)(0);g.current!==y&&(N.current=n.current,g.current=y);var P=N.current;return rC.createElement(r6,{points:l,showLabels:!b},r.children,rC.createElement(eR.JavascriptAnimate,{animationId:y,begin:c,duration:d,isActive:o,easing:u,onAnimationEnd:w,onAnimationStart:O,key:y},e=>{var c,d=Math.min((0,H.interpolate)(P,k+P,e),k);if(c=o?s?((e,t,r)=>{var a=r.reduce((e,t)=>e+t);if(!a)return r5(t,e);for(var i=Math.floor(e/a),n=e%a,l=t-e,s=[],o=0,c=0;o<r.length;c+=null!=(d=r[o])?d:0,++o){var d,u=r[o];if(null!=u&&c+u>n){s=[...r.slice(0,o),n-c];break}}var m=s.length%2==0?[0,l]:[l];return[...function(e,t){for(var r=e.length%2!=0?[...e,0]:e,a=[],i=0;i<t;++i)a=[...a,...r];return a}(r,i),...s,...m].map(e=>"".concat(e,"px")).join(", ")})(d,k,"".concat(s).split(/[,\s]+/gim).map(e=>parseFloat(e))):r5(k,d):null==s?void 0:String(s),e>0&&k>0&&(i.current=l,n.current=Math.max(n.current,d)),v){var u=v.length/l.length,x=1===e?l:l.map((t,r)=>{var a=Math.floor(r*u);if(v[a]){var i=v[a];return r0(r0({},t),{},{x:(0,H.interpolate)(i.x,t.x,e),y:(0,H.interpolate)(i.y,t.y,e)})}return m?r0(r0({},t),{},{x:(0,H.interpolate)(2*p,t.x,e),y:(0,H.interpolate)(f/2,t.y,e)}):r0(r0({},t),{},{x:t.x,y:t.y})});return i.current=x,rC.createElement(r7,{props:r,points:x,clipPathId:t,pathRef:a,strokeDasharray:c})}return rC.createElement(r7,{props:r,points:l,clipPathId:t,pathRef:a,strokeDasharray:c})}),rC.createElement(q.LabelListFromLabelProp,{label:r.label}))}function r3(e){var{clipPathId:t,props:r}=e,a=(0,rC.useRef)(null),i=(0,rC.useRef)(0),n=(0,rC.useRef)(null);return rC.createElement(r9,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:i,pathRef:n})}var r8=(e,t)=>{var r,a;return{x:null!=(r=e.x)?r:void 0,y:null!=(a=e.y)?a:void 0,value:e.value,errorVal:(0,U.getValueByDataKey)(e.payload,t)}};class ae extends rC.Component{render(){var{hide:e,dot:t,points:r,className:a,xAxisId:i,yAxisId:n,top:l,left:s,width:o,height:c,id:d,needClip:u,zIndex:m}=this.props;if(e)return null;var p=(0,F.clsx)("recharts-line",a),{r:f,strokeWidth:x}=function(e){var t=(0,eK.svgPropertiesNoEventsFromUnknown)(e);if(null!=t){var{r,strokeWidth:a}=t,i=Number(r),n=Number(a);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(n)||n<0)&&(n=2),{r:i,strokeWidth:n}}return{r:3,strokeWidth:2}}(t),h=(0,W.isClipDot)(t),v=2*f+x,y=u?"url(#clipPath-".concat(h?"":"dots-").concat(d,")"):void 0;return rC.createElement(eF.ZIndexLayer,{zIndex:m},rC.createElement(V.Layer,{className:p},u&&rC.createElement("defs",null,rC.createElement(ec,{clipPathId:d,xAxisId:i,yAxisId:n}),!h&&rC.createElement("clipPath",{id:"clipPath-dots-".concat(d)},rC.createElement("rect",{x:s-v/2,y:l-v/2,width:o+v,height:c+v}))),rC.createElement(ei,{xAxisId:i,yAxisId:n,data:r,dataPointFormatter:r8,errorBarOffset:0},rC.createElement(r3,{props:this.props,clipPathId:d}))),rC.createElement(rR,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:y}))}}var at={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:eV.DefaultZIndexes.line,type:"linear"};function ar(e){var t=(0,z.resolveDefaultProps)(e,at),{activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:n,animationEasing:l,connectNulls:s,dot:o,hide:c,isAnimationActive:d,label:u,legendType:m,xAxisId:p,yAxisId:f,id:x}=t,h=r1(t,rQ),{needClip:v}=eo(p,f),y=(0,es.usePlotArea)(),g=(0,ed.useChartLayout)(),b=(0,eT.useIsPanorama)(),j=(0,en.useAppSelector)(e=>rY(e,p,f,b,x));if("horizontal"!==g&&"vertical"!==g||null==j||null==y)return null;var{height:w,width:O,x:k,y:N}=y;return rC.createElement(ae,r$({},h,{id:x,connectNulls:s,dot:o,activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:n,animationEasing:l,isAnimationActive:d,hide:c,label:u,legendType:m,xAxisId:p,yAxisId:f,points:j,layout:g,height:w,width:O,left:k,top:N,needClip:v}))}var aa=rC.memo(function(e){var t=(0,z.resolveDefaultProps)(e,at),r=(0,eT.useIsPanorama)();return rC.createElement(eB.RegisterGraphicalItemId,{id:t.id,type:"line"},e=>rC.createElement(rC.Fragment,null,rC.createElement(eM.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:a,value:(0,U.getTooltipNameProp)(r,t),payload:e}]})(t)}),rC.createElement(r2,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),rC.createElement(e_.SetCartesianGraphicalItem,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),rC.createElement(ar,r$({},t,{id:e}))))},eG.propsAreEqual);aa.displayName="Line";var ai=e.i(59559),an=e.i(67881),al=e.i(78894);let as=(0,i.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),ao=(0,i.default)("bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]),ac=(0,i.default)("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);function ad(){let[e,a]=(0,r.useState)(90),[i,n]=(0,r.useState)("CONSUMPTION"),{data:l,isLoading:s}=(0,o.useQuery)({queryKey:["dashABC",e],queryFn:()=>m(e),enabled:"CONSUMPTION"===i}),{data:c,isLoading:d}=(0,o.useQuery)({queryKey:["dashABCInventory"],queryFn:p,enabled:"INVENTORY"===i}),{data:u,isLoading:x}=(0,o.useQuery)({queryKey:["dashStockRisk"],queryFn:f}),{data:h,isLoading:v}=(0,o.useQuery)({queryKey:["dashZombies"],queryFn:j}),{data:g}=(0,o.useQuery)({queryKey:["dashRetazos"],queryFn:y});if(x)return(0,t.jsx)("div",{className:"p-10 text-center animate-pulse",children:"Analizando inventarios..."});let b=("CONSUMPTION"===i?l:c)?.map(e=>({name:e.nombre_completo.substring(0,15)+"...",full_name:e.nombre_completo,valor:Number("CONSUMPTION"===i?e.valor_salida:e.metric_value),acumulado:100*Number(e.pct_acumulado),class:e.clasificacion_abc}));return(0,t.jsxs)("div",{className:"space-y-6 p-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center bg-muted/30 p-4 rounded-lg border",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Analtica de Inventarios (ABC & Quiebres)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tesis: Deteccin temprana de faltantes y concentracin de valor."})]}),(0,t.jsxs)(an.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(as,{className:"mr-2 h-4 w-4"})," Actualizar Datos"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:[(0,t.jsxs)(w.Card,{className:"flex flex-col border-red-200 dark:border-red-900/50",children:[(0,t.jsx)(w.CardHeader,{className:"bg-red-50 dark:bg-red-900/10 pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(w.CardTitle,{className:"text-red-700 dark:text-red-400 flex items-center gap-2",children:[(0,t.jsx)(al.AlertTriangle,{className:"h-5 w-5"}),"Monitor de Quiebres",(0,t.jsx)(rb,{text:"Lista en tiempo real de materiales que necesitan reposicin urgente (Stock <= Mnimo).",className:"text-red-600"})]}),(0,t.jsx)(w.CardDescription,{children:"SKUs con Stock Agotado o Debajo del Mnimo"})]}),(0,t.jsxs)(rO.Badge,{variant:"destructive",className:"px-3 py-1 text-base",children:[u?.length??0," Crticos"]})]})}),(0,t.jsx)(w.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"max-h-[350px] overflow-auto",children:(0,t.jsxs)(rk.Table,{children:[(0,t.jsx)(rk.TableHeader,{className:"bg-white dark:bg-gray-950 sticky top-0 z-10",children:(0,t.jsxs)(rk.TableRow,{children:[(0,t.jsx)(rk.TableHead,{children:"SKU / Material"}),(0,t.jsx)(rk.TableHead,{className:"text-right",children:"Stock"}),(0,t.jsx)(rk.TableHead,{className:"text-right",children:"Reponer"})]})}),(0,t.jsxs)(rk.TableBody,{children:[u?.map(e=>(0,t.jsxs)(rk.TableRow,{children:[(0,t.jsxs)(rk.TableCell,{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.nombre_completo}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.unidad_medida})]}),(0,t.jsx)(rk.TableCell,{className:"text-right font-bold text-red-600",children:e.stock_actual}),(0,t.jsx)(rk.TableCell,{className:"text-right",children:(0,t.jsxs)("span",{className:"text-xs font-mono text-blue-600 font-bold",children:["ROP: ",e.punto_pedido]})})]},e.id_sku)),u?.length===0&&(0,t.jsx)(rk.TableRow,{children:(0,t.jsx)(rk.TableCell,{colSpan:3,className:"h-24 text-center text-green-600",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:""}),"Excelente. No hay quiebres de stock crticos."]})})})]})]})})})]}),(0,t.jsxs)(w.Card,{className:"flex flex-col border-orange-200 bg-orange-50/20 dark:bg-orange-950/10",children:[(0,t.jsx)(w.CardHeader,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(w.CardTitle,{className:"text-orange-700 dark:text-orange-400 flex items-center gap-2",children:[(0,t.jsx)(ao,{className:"h-5 w-5"}),"Inventario Zombie",(0,t.jsx)(rb,{text:"Productos con Stock > 0 que NO han tenido salidas en los ltimos 90 das. Capital estancado que deberas liquidar.",className:"text-orange-600"})]}),(0,t.jsx)(w.CardDescription,{children:"Top 10 Estancados por Valor"})]})}),(0,t.jsx)(w.CardContent,{className:"flex-1 overflow-auto max-h-[350px]",children:(0,t.jsxs)("div",{className:"space-y-4",children:[h?.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-2 last:border-0 last:pb-0",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:e.nombre_completo}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.id_sku,"  ",e.stock_actual," ",e.unidad_medida]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("span",{className:"text-sm font-bold text-orange-600 block",children:["S/ ",e.valor_estancado?.toLocaleString()]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Inmvil > 90 das"})]})]},e.id_sku)),(!h||0===h.length)&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[(0,t.jsx)(ao,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),"Genial! No tienes inventario zombie."]})]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,t.jsxs)(w.Card,{className:"col-span-1 md:col-span-2 lg:col-span-4 flex flex-col h-[450px]",children:[(0,t.jsx)(w.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(w.CardTitle,{className:"flex items-center",children:["Anlisis de Pareto (ABC)",(0,t.jsx)(rb,{text:"Clasificacin segn valor. A: 80% del valor, B: 15%, C: 5%."})]}),(0,t.jsx)(w.CardDescription,{children:"CONSUMPTION"===i?"Valor de Consumo (Movimiento)":"Valor de Inventario Actual (Estancado)"})]}),(0,t.jsxs)("div",{className:"flex bg-muted rounded-lg p-1 gap-1",children:[(0,t.jsx)(an.Button,{variant:"CONSUMPTION"===i?"default":"ghost",size:"sm",className:"h-7 text-xs px-3",onClick:()=>n("CONSUMPTION"),children:"Consumo"}),(0,t.jsx)(an.Button,{variant:"INVENTORY"===i?"default":"ghost",size:"sm",className:"h-7 text-xs px-3",onClick:()=>n("INVENTORY"),children:"Valor Actual"})]})]}),"CONSUMPTION"===i&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)("div",{className:"flex bg-muted rounded-lg p-1 gap-1",children:[(0,t.jsx)(an.Button,{variant:90===e?"secondary":"ghost",size:"sm",className:`h-6 text-[10px] px-2 ${90===e?"bg-gray-300 dark:bg-gray-700 font-bold":""}`,onClick:()=>a(90),children:"90d"}),(0,t.jsx)(an.Button,{variant:180===e?"secondary":"ghost",size:"sm",className:`h-6 text-[10px] px-2 ${180===e?"bg-gray-300 dark:bg-gray-700 font-bold":""}`,onClick:()=>a(180),children:"180d"}),(0,t.jsx)(an.Button,{variant:365===e?"secondary":"ghost",size:"sm",className:`h-6 text-[10px] px-2 ${365===e?"bg-gray-300 dark:bg-gray-700 font-bold":""}`,onClick:()=>a(365),children:"1a"}),(0,t.jsx)(an.Button,{variant:null===e?"secondary":"ghost",size:"sm",className:`h-6 text-[10px] px-2 ${null===e?"bg-gray-300 dark:bg-gray-700 font-bold":""}`,onClick:()=>a(null),children:"Total"})]})})]})}),(0,t.jsx)(w.CardContent,{className:"flex-1 w-full min-h-0",children:("CONSUMPTION"===i?s:d)?(0,t.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground text-sm",children:"Calculando Clasificacin ABC..."}):(0,t.jsx)(ry.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(rP,{data:b,margin:{top:20,right:20,bottom:60,left:20},children:[(0,t.jsx)(rh,{stroke:"#f5f5f5"}),(0,t.jsx)(tZ,{dataKey:"name",scale:"band",angle:-45,textAnchor:"end",interval:0,height:80,fontSize:10}),(0,t.jsx)(t9,{yAxisId:"left",orientation:"left",stroke:"#8884d8"}),(0,t.jsx)(t9,{yAxisId:"right",orientation:"right",stroke:"#82ca9d",unit:"%"}),(0,t.jsx)(rv.Tooltip,{content:({active:e,payload:r})=>{if(e&&r&&r.length){let e=r[0].payload;return(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-900 border p-2 rounded shadow text-xs",children:[(0,t.jsx)("p",{className:"font-bold",children:e.full_name}),(0,t.jsxs)("p",{children:["Valor: S/ ",e.valor.toLocaleString()]}),(0,t.jsxs)("p",{children:["Clase: ",e.class]}),(0,t.jsxs)("p",{children:["Acumulado: ",e.acumulado.toFixed(1),"%"]})]})}return null}}),(0,t.jsx)(ai.Legend,{}),(0,t.jsx)(tu,{yAxisId:"left",dataKey:"valor",name:"CONSUMPTION"===i?"Consumo (S/)":"Valor Stock (S/)",barSize:20,fill:"#4f46e5",children:b?.map((e,r)=>(0,t.jsx)(G.Cell,{fill:"A"===e.class?"#2563eb":"B"===e.class?"#60a5fa":"#94a3b8"},`cell-${r}`))}),(0,t.jsx)(aa,{yAxisId:"right",type:"monotone",dataKey:"acumulado",name:"% Acumulado",stroke:"#ff7300",strokeWidth:2,dot:!1})]})})})]}),(0,t.jsxs)(w.Card,{className:"col-span-1 md:col-span-2 lg:col-span-3 border-emerald-200 bg-emerald-50/20 dark:bg-emerald-950/10 h-[450px]",children:[(0,t.jsxs)(w.CardHeader,{children:[(0,t.jsxs)(w.CardTitle,{className:"flex items-center text-emerald-700 dark:text-emerald-400 gap-2",children:[(0,t.jsx)(ac,{className:"h-5 w-5"}),"Tesoro Oculto (Retazos)",(0,t.jsx)(rb,{text:"Valor econmico estimado de los retazos disponibles.",className:"text-emerald-600"})]}),(0,t.jsx)(w.CardDescription,{children:"Material recuperable en planta"})]}),(0,t.jsxs)(w.CardContent,{className:"flex flex-col items-center justify-center h-full pb-10 text-center space-y-4",children:[(0,t.jsx)("div",{className:"p-4 bg-emerald-100 rounded-full dark:bg-emerald-900/50",children:(0,t.jsx)(ac,{className:"h-12 w-12 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-4xl font-bold text-emerald-700 dark:text-emerald-400",children:["S/ ",g?.valor_recuperable_pen?.toLocaleString("es-PE",{maximumFractionDigits:0})??0]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Valor Estimado Recuperable"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-8 w-full max-w-xs mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-300",children:g?.cantidad_retazos??0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Piezas tiles"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-xl font-bold text-emerald-800 dark:text-emerald-300",children:[g?.total_metros_lineales?.toFixed(1)??0," m"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Metros Lineales"})]})]})]})]})]})]})}var au=e.i(41891),am=e.i(38814);let ap=(0,i.default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),af=(0,i.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function ax(){let{data:e}=(0,o.useQuery)({queryKey:["dashConv"],queryFn:x}),{data:r}=(0,o.useQuery)({queryKey:["dashTicket"],queryFn:h}),{data:a}=(0,o.useQuery)({queryKey:["dashTop"],queryFn:v}),{data:i}=(0,o.useQuery)({queryKey:["dashMargen"],queryFn:g}),{data:n}=(0,o.useQuery)({queryKey:["dashCycle"],queryFn:b}),s=[{name:"Ganadas",value:e?.ganadas||0,fill:"#22c55e"},{name:"Perdidas",value:e?.perdidas||0,fill:"#ef4444"},{name:"Pendientes",value:e?.pendientes||0,fill:"#eab308"}].filter(e=>e.value>0);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center bg-muted/30 p-4 rounded-lg border",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Inteligencia Comercial & Financiera"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mtricas reales de ventas, mrgenes y eficiencia de cierre."})]})}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Tasa de Conversin",(0,t.jsx)(rb,{text:"% de Cotizaciones que terminan en venta real (Aprobada/Finalizada). Frmula: (Ganadas / Total) * 100."})]}),(0,t.jsx)(ap,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[e?.tasa_conversion_pct??0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"De cotizaciones aprobadas"})]})]}),(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Ticket Promedio",(0,t.jsx)(rb,{text:"Valor promedio de cada venta cerrada. Ayuda a entender el tamao tpico de tus proyectos."})]}),(0,t.jsx)(N.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["S/ ",r?.ticket_promedio_pen?.toLocaleString("es-PE",{maximumFractionDigits:0})??0]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Por venta cerrada"})]})]}),(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Margen Promedio",(0,t.jsx)(rb,{text:"Utilidad Bruta Real. Se calcula restando al Precio de Venta todos los Costos Directos (Materiales + Mano de Obra)."})]}),(0,t.jsx)(l,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[i?.[0]?.margen_promedio_pct??0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Utilidad Real (Ventas - Costos)"})]})]}),(0,t.jsxs)(w.Card,{children:[(0,t.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)(w.CardTitle,{className:"text-sm font-medium flex items-center",children:["Ciclo de Venta",(0,t.jsx)(rb,{text:"Das promedio que pasan desde que emites la cotizacin hasta que el cliente la aprueba."})]}),(0,t.jsx)(af,{className:"h-4 w-4 text-orange-500"})]}),(0,t.jsxs)(w.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[n?.dias_promedio_cierre??0," das"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tiempo promedio de cierre"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,t.jsxs)(w.Card,{className:"col-span-4",children:[(0,t.jsxs)(w.CardHeader,{children:[(0,t.jsxs)(w.CardTitle,{className:"flex items-center",children:["Top Sistemas Vendidos",(0,t.jsx)(rb,{text:"Grfico de Barras que muestra el volumen de ventas (en S/) acumulado por cada Modelo/Sistema (ej: V-CORREDIZA-20). Te ayuda a identificar tus 'Vacas Lecheras'."})]}),(0,t.jsx)(w.CardDescription,{children:"Volumen de ventas por Modelo/Sistema"})]}),(0,t.jsx)(w.CardContent,{className:"pl-2",children:(0,t.jsx)("div",{className:"h-[300px] w-full",children:(0,t.jsx)(ry.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(K,{data:a||[],layout:"vertical",margin:{left:20},children:[(0,t.jsx)(rh,{strokeDasharray:"3 3",horizontal:!0,vertical:!1}),(0,t.jsx)(tZ,{type:"number",hide:!0}),(0,t.jsx)(t9,{dataKey:"id_modelo",type:"category",width:100,fontSize:11,tickFormatter:e=>e.substring(0,15)}),(0,t.jsx)(rv.Tooltip,{formatter:e=>`S/ ${(e||0).toLocaleString()}`,labelStyle:{color:"black"}}),(0,t.jsx)(tu,{dataKey:"volumen_ventas_pen",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})})]}),(0,t.jsxs)(w.Card,{className:"col-span-3",children:[(0,t.jsxs)(w.CardHeader,{children:[(0,t.jsxs)(w.CardTitle,{className:"flex items-center",children:["Estado de Cotizaciones",(0,t.jsx)(rb,{text:"Grfico de Pastel (Embudo) que muestra la proporcin de obras Ganadas vs Perdidas. Ideal para visualizar la eficiencia global de ventas."})]}),(0,t.jsx)(w.CardDescription,{children:"Distribucin de Obras"})]}),(0,t.jsx)(w.CardContent,{className:"flex justify-center h-[300px]",children:(0,t.jsx)(ry.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(au.PieChart,{children:[(0,t.jsx)(am.Pie,{data:s,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:s.map((e,r)=>(0,t.jsx)(G.Cell,{fill:e.fill},`cell-${r}`))}),(0,t.jsx)(rv.Tooltip,{}),(0,t.jsx)(ai.Legend,{verticalAlign:"bottom",height:36})]})})})]})]})]})}function ah(){let[e,i]=(0,r.useState)("executive"),o=[{id:"executive",label:"Vista Ejecutiva",icon:a.LayoutDashboard,description:"Valorizacin & KPIs"},{id:"commercial",label:"Inteligencia Comercial",icon:l,description:"Ventas & Mrgenes"},{id:"analytics",label:"Analtica Inventarios",icon:n,description:"Quiebres & Pareto"}];return(0,t.jsxs)("div",{className:"flex flex-col space-y-4 h-[calc(100vh-100px)]",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-baseline gap-2 md:gap-4 border-b pb-2",children:[(0,t.jsx)("h2",{className:"text-xl font-bold tracking-tight",children:"Cockpit MTO"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tablero de Inteligencia Operativa y Control de Produccin."})]}),(0,t.jsxs)("div",{className:"flex flex-1 gap-6 overflow-hidden",children:[(0,t.jsx)("aside",{className:"w-64 flex-none hidden md:block border-r pr-4 space-y-2",children:o.map(r=>(0,t.jsxs)("button",{onClick:()=>i(r.id),className:(0,s.cn)("flex items-center w-full px-3 py-2 text-sm font-medium rounded-md transition-colors text-left group",e===r.id?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,t.jsx)(r.icon,{className:"mr-3 h-4 w-4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold",children:r.label}),(0,t.jsx)("div",{className:"text-xs font-normal opacity-70",children:r.description})]})]},r.id))}),(0,t.jsxs)("main",{className:"flex-1 overflow-y-auto pr-2",children:["executive"===e&&(0,t.jsx)(rj,{}),"commercial"===e&&(0,t.jsx)(ax,{}),"analytics"===e&&(0,t.jsx)(ad,{})]})]})]})}e.s(["default",()=>ah],71249)}]);